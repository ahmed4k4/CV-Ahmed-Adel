function detectDevice(){let e=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);e?document.body.classList.add("mobile-device"):document.body.classList.add("desktop-device")}document.addEventListener("DOMContentLoaded",function(){detectDevice();let e=document.querySelectorAll(".menu a"),t=document.querySelectorAll(".section");function a(e){let t=document.querySelector(".animated-bg");switch(e){case"#about":default:t.style.background="linear-gradient(-45deg, #ee7752, #e73c7e, #23a6d5, #23d5ab)";break;case"#education":t.style.background="linear-gradient(-45deg, #ff9a9e, #fad0c4, #fbc2eb, #a6c1ee)";break;case"#skills":t.style.background="linear-gradient(-45deg, #a1c4fd, #c2e9fb, #d4fc79, #96e6a1)";break;case"#projects":t.style.background="linear-gradient(-45deg, #ffecd2, #fcb69f, #ff8177, #ff867a)";break;case"#contact":t.style.background="linear-gradient(-45deg, #84fab0, #8fd3f4, #a6c1ee, #fbc2eb)"}}function s(){let e=document.querySelectorAll(".animate-title, .info-item, .timeline-item, .skill-item, .portfolio-item");e.forEach((e,t)=>{e.style.opacity="0",e.style.transform="translateY(20px)",setTimeout(()=>{e.style.transition="opacity 0.5s ease, transform 0.5s ease",e.style.opacity="1",e.style.transform="translateY(0)"},100*t)}),document.querySelector("#skills").classList.contains("active")&&function e(){let t=document.querySelectorAll(".progress");t.forEach(e=>{let t=e.style.width;e.style.width="0",setTimeout(()=>{e.style.width=t},100)})}()}e.forEach(i=>{i.addEventListener("click",function(i){i.preventDefault(),e.forEach(e=>e.classList.remove("active")),t.forEach(e=>e.classList.remove("active")),this.classList.add("active");let r=this.getAttribute("href"),l=document.querySelector(r);l.classList.add("active"),document.body.classList.contains("mobile-device")&&setTimeout(()=>{let e=l.getBoundingClientRect().top,t=e+window.pageYOffset-20;window.scrollTo({top:t,behavior:"smooth"})},100),s(),a(r)})});let i=document.querySelectorAll(".social-link");i.forEach((e,t)=>{e.style.opacity="0",e.style.transform="translateX(20px)",setTimeout(()=>{e.style.transition="opacity 0.3s ease, transform 0.3s ease",e.style.opacity="1",e.style.transform="translateX(0)"},100*t),e.addEventListener("mouseenter",function(){this.style.transform="translateX(10px)"}),e.addEventListener("mouseleave",function(){this.style.transform="translateX(0)"})});let r=document.querySelector(".download-btn");r&&r.addEventListener("click",function e(){let t=document.createElement("a");t.href="downloads/Ahmed-Adel-Fekry-Abdelkader-ATS.pdf",t.download="Ahmed-Adel-Fekry-Abdelkader-ATS.pdf",document.body.appendChild(t),t.click(),document.body.removeChild(t)});let l=document.querySelector(".contact-form");l&&(l.action="https://formspree.io/f/mdkgalrr",l.method="POST",l.addEventListener("submit",async function(e){e.preventDefault();let t=this.querySelector(".submit-btn"),a=t.innerHTML;t.disabled=!0,t.innerHTML='<i class="fas fa-spinner fa-spin"></i> Sending...';try{let s=await fetch(this.action,{method:"POST",body:new FormData(this),headers:{Accept:"application/json"}});if(s.ok){let i=document.createElement("div");i.className="alert-message success",i.innerHTML=`
                        <i class="fas fa-check-circle"></i>
                        <h3>Message Sent Successfully!</h3>
                        <p>Thank you for contacting me. I'll get back to you soon.</p>
                    `,document.body.appendChild(i),setTimeout(()=>{i.style.opacity="0",setTimeout(()=>i.remove(),500)},5e3),this.reset()}else throw Error("Network response was not ok")}catch(r){let l=document.createElement("div");l.className="alert-message error",l.innerHTML=`
                    <i class="fas fa-exclamation-circle"></i>
                    <h3>Error!</h3>
                    <p>Message not sent. Please try again.</p>
                `,document.body.appendChild(l),setTimeout(()=>{l.style.opacity="0",setTimeout(()=>l.remove(),500)},5e3),console.error("Error:",r)}finally{t.disabled=!1,t.innerHTML=a}})),s(),a("#about")});